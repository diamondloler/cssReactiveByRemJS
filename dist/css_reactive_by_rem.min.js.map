{"version":3,"sources":["css_reactive_by_rem.js"],"names":["root","factory","module","_typeof","exports","define","amd","window","undefined","option","Error","designWidth","mergeSettings","target","src","key","extend","moblieDesignWidth","PCDesignWidth","html","document","documentElement","body","obj","value","cb","getFixedClientWidth","width","Math","max","clientWidth","innerWidth","htmlNativeStyle","style","proxy","fontSize","Object","defineProperty","enumerable","configurable","get","set","newValue","resize","addEventListener"],"mappings":"oOAAA,SAAAA,EAAAC,GACA,YAAA,oBAAAC,OAAA,YAAAC,QAAAD,SACAA,OAAAE,QAAAH,EAAAD,GACA,mBAAAK,QAAAA,OAAAC,IACAD,OAAA,WACA,OAAAJ,EAAAD,KAGAA,EAAA,iBAAAC,EAAAD,GARA,CAUA,oBAAAO,OAAAA,YAAAC,EAAA,SAAAD,GAoFA,OAlFA,SAAAE,GACA,QAAA,IAAAF,EACA,MAAA,IAAAG,MAAA,8DAGA,IAYAC,EANAC,EASA,SAAAC,EAAAC,GACA,IAAA,IAAAC,KAAAD,EACAD,EAAAE,GAAAD,EAAAC,GAEA,OAAAF,EAbAG,CANA,CACAC,kBAAA,IACAC,cAAA,MAIAT,GAEAU,EAAAC,SAAAC,gBACAC,EAAAF,SAAAE,KAyBA,IAmBAC,EAAAR,EAAAS,EAAAC,EAdAC,EAAA,WACA,IAAAC,EAAAC,KAAAC,IAAAV,EAAAW,YAAAR,EAAAQ,aAGA,OApBAvB,EAAAwB,WAAA,KACApB,EAAA,SAAAC,EAAAK,kBACAL,EAAAM,cAAAN,EAAAK,kBACA,IAEAN,EAAA,SAAAC,EAAAM,cACAN,EAAAK,kBAAAL,EAAAM,cACA,IAaAS,EAAAA,EAAA,IAGAK,EAAAb,EAAAc,MAoBAC,EAAA,GAbAnB,EAeA,SAfAS,GAAAD,EAeAW,GAAA,OAfAT,EALA,SAAAK,GAEA,OADAE,EAAAG,SAdA,EAcAL,EAAAnB,EAAA,MAKAyB,OAAAC,eAAAd,EAAAR,EAAA,CACAuB,YAAA,EACAC,cAAA,EACAC,IAAA,WACA,OAAAhB,GAEAiB,IAAA,SAAAC,GACAlB,EAAAC,GAAAA,EAAAiB,IAAAA,KASAR,EAAAS,OAAAjB,IAEAnB,EAAAqC,iBAAA,SAAA,WACAV,EAAAS,OAAAjB","file":"css_reactive_by_rem.min.js","sourcesContent":["(function (root, factory) {\r\n    if (typeof module === 'object') {\r\n        module.exports = factory(root)\r\n    } else if (typeof define === 'function' && define.amd) {\r\n        define(function () {\r\n            return factory(root)\r\n        })\r\n    } else {\r\n        root['cssReactiveByRem'] = factory(root)\r\n    }\r\n})(typeof window !== 'undefined' ? window : this, function (window) {\r\n\r\n    var cssReactiveByRem = function (option) {\r\n        if (typeof window === 'undefined') {\r\n            throw new Error('The execution environment must be a environment of browser')\r\n        }\r\n\r\n        var defaultSettings = {\r\n            moblieDesignWidth: 750,\r\n            PCDesignWidth: 1920\r\n        }\r\n\r\n\r\n        var mergeSettings = extend(defaultSettings, option)\r\n\r\n        var html = document.documentElement\r\n        var body = document.body\r\n        \r\n        // When isMobile function be calledï¼Œit will inject appropriate value\r\n        var designWidth \r\n\r\n        \r\n        function extend(target, src) {\r\n            for (var key in src) {\r\n                target[key] = src[key]\r\n            }\r\n            return target\r\n        }\r\n\r\n        function isMobile () {\r\n            if (window.innerWidth < 768) {\r\n                designWidth = mergeSettings.moblieDesignWidth === 'none' \r\n                  ? mergeSettings.PCDesignWidth : mergeSettings.moblieDesignWidth\r\n                return true\r\n            } else {\r\n                designWidth = mergeSettings.PCDesignWidth === 'none'\r\n                  ? mergeSettings.moblieDesignWidth : mergeSettings.PCDesignWidth\r\n                return false\r\n            }\r\n        }\r\n\r\n        var getRelativeValue = function (mon, relMon) {\r\n            var relSon = 1 * relMon / mon\r\n            return relSon\r\n        }\r\n\r\n        var getFixedClientWidth = function () {\r\n            var width = Math.max(html.clientWidth, body.clientWidth)\r\n            //In the PC, the clientWidth exclude scrollBar width, \r\n            //so add a scroll bar width to same as designWidth\r\n            return isMobile() ? width : width + 17\r\n        }\r\n\r\n        var htmlNativeStyle = html.style\r\n\r\n        var setHtmlFontSzieStr = function (clientWidth) {\r\n            var res = htmlNativeStyle.fontSize = getRelativeValue(designWidth, clientWidth) + 'px'\r\n            return res\r\n        }\r\n\r\n        var defRactPro = function (obj, key, value, cb) {\r\n            Object.defineProperty(obj, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: function () {\r\n                    return value\r\n                },\r\n                set: function (newValue) {\r\n                    value = cb && cb(newValue) || newValue;\r\n                }\r\n            })\r\n        }\r\n\r\n        var proxy = {}\r\n\r\n        defRactPro(proxy, 'resize', proxy['resize'], setHtmlFontSzieStr)\r\n\r\n        proxy.resize = getFixedClientWidth()\r\n\r\n        window.addEventListener('resize', function () {\r\n            proxy.resize = getFixedClientWidth()\r\n        })\r\n    }\r\n\r\n    return cssReactiveByRem\r\n})"]}